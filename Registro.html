<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body, html {
            height: 100%;
            background-color: skyblue;
        }
        .form-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
        .form-register {
            width: 100%;
            max-width: 400px;
            margin: auto;
            padding: 20px;
            padding-top: 30px;
        }
        .error {
            color: red;
            font-size: 0.875em;
            display: none;
        }
    </style>
<body class="form-container">
    <main class="form-register text-center shadow bg-body-tertiary rounded">
        <form id="registerForm">
            <h1 class="h3 mb-3 fw-normal">Regístrese</h1>
            <div class="form-group mb-3 text-start">
                <label for="username" class="form-label">Nombre:</label>
                <input type="text" class="form-control" id="username" placeholder="Nombre de usuario">
                <span class="error" id="nameError"></span>
            </div>
            <div class="form-group mb-3 text-start">
                <label for="email" class="form-label">Correo electrónico:</label>
                <input type="email" class="form-control" id="email" placeholder="Correo electrónico">
                <span class="error" id="emailError"></span>
            </div>
            <div class="form-group mb-3 text-start">
                <label for="password" class="form-label">Contraseña:</label>
                <input type="password" class="form-control" id="password" placeholder="Contraseña">
                <span class="error" id="passwordError"></span>
            </div>
            <div class="form-group mb-3 text-start">
                <label for="confirmPassword" class="form-label">Confirmar contraseña:</label>
                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirmar contraseña">
                <span class="error" id="confirmPasswordError"></span>
            </div>
            <button class="w-100 btn btn-lg btn-primary" type="submit">Registrarse</button>
        </form>
    </main>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('#registerForm').submit(function(event) {
            event.preventDefault();

            var nombreUsuario = $('#username').val();
            var email = $('#email').val();
            var password = $('#password').val();
            var confirmPassword = $('#confirmPassword').val();
            var emailRegex = /^[a-zA-Z0-9._%+-]+@(hotmail|gmail)\.com$/;
            var valid = true;

            // Reset error messages
            $('.error').hide();

            if (nombreUsuario === "") {
                $('#nameError').text("El nombre de usuario es obligatorio.").show();
                valid = false;
            }

            if (email === "") {
                $('#emailError').text("El correo electrónico es obligatorio.").show();
                valid = false;
            } else if (!emailRegex.test(email)) {
                $('#emailError').text("El correo electrónico debe ser @hotmail.com o @gmail.com.").show();
                valid = false;
            }

            if (password === "") {
                $('#passwordError').text("La contraseña es obligatoria.").show();
                valid = false;
            }

            if (confirmPassword === "") {
                $('#confirmPasswordError').text("Debe confirmar la contraseña.").show();
                valid = false;
            } else if (password !== confirmPassword) {
                $('#confirmPasswordError').text("Las contraseñas no coinciden.").show();
                valid = false;
            }

            if (valid) {
                alert("Registro exitoso!");
                window.location.href="CatalogoProducto.html"
            }
        });
    });
</script>
</html>